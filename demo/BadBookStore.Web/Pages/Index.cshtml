@page
@model IndexModel
@{
    ViewData["Title"] = "BadBookStore Demo";
}

<h1>BadBookStore EF Core 10 – Slow Queries Demo</h1>

<div style="margin:.25rem 0 1rem 0;">
    @if (Model.FixesApplied)
    {
        <span style="
          display:inline-block;padding:.25rem .5rem;border-radius:.5rem;
          background:#e6ffed;border:1px solid #2ecc71;color:#1f7a3a;
          font-size:.85rem;font-weight:600;">
            Fixes: Applied
        </span>
    }
    else
    {
        <span style="
          display:inline-block;padding:.25rem .5rem;border-radius:.5rem;
          background:#fff5f5;border:1px solid #ff6b6b;color:#8a1c1c;
          font-size:.85rem;font-weight:600;">
            Fixes: Not Applied
        </span>
    }
</div>

<p>Use the links below to run each demonstration query and view timing + sample results.</p>

<ol>
    <li><a asp-page="/Demo/Index" asp-route-q="1">Q1: Orders by CustomerEmail + date (string range)</a></li>
    <li><a asp-page="/Demo/Index" asp-route-q="2">Q2: Reviews ↔ Books by Title join</a></li>
    <li><a asp-page="/Demo/Index" asp-route-q="3">Q3: Orders ↔ OrderLines by OrderId (missing index)</a></li>
    <li><a asp-page="/Demo/Index" asp-route-q="4">Q4: Inventory by BookISBN (string composite key)</a></li>
    <li><a asp-page="/Demo/Index" asp-route-q="5">Q5: CategoryCsv LIKE scans</a></li>
    <li><a asp-page="/Demo/Index" asp-route-q="6">Q6: ActivityLog sort by string “date”</a></li>
    <li><a asp-page="/Demo/Index" asp-route-q="7">Q7: FLOAT money math rounding</a></li>
    <li><a asp-page="/Demo/Index" asp-route-q="8">Q8: JSON-ish LIKE in Orders.Meta</a></li>
</ol>

Look at <a asp-page="/Admin/Compare">Compare Mode</a>.